<div class="flex flex-col gap-8 items-center w-full h-[calc(100dvh-4rem)]">
    <div class="flex justify-between items-center w-full">
        <div (click)="openModal()">
            <fa-icon [icon]="iconLeave" class="fa-2x"></fa-icon>
        </div>
        <p class="text-lg font-semibold">{{ resultsAdvance }}</p>
    </div>
    <h1 class="text-4xl font-semibold text-start w-full pt-8">{{ question
        }}</h1>
    <div
        class="w-full flex-grow flex items-center justify-around flex-col"
        [class.pb-32]="!isRoomOwner">
        <canvas id="chart" width="100%">
            <p>Votre navigateur ne peut pas afficher le graphique.</p>
            <p *ngFor="let answer of answers" class="font-bold text-lg">{{
                answer.player
                }} : {{ answer.count }} votes</p>
        </canvas>
    </div>
    <footer *ngIf="isRoomOwner" class="w-full flex justify-between h-[10dvh]">
        <button class="btn btn-primary text-base h-16"
            [class.disabled]="currentResultIndex === 1"
            (click)="previousResult()">
            <div class="flex items-center gap-2">
                <fa-icon [icon]="iconPrevious" class="fa-lg"></fa-icon>
                <p class="font-bold text-lg">Précédent</p>
            </div>
        </button>
        <button class="btn btn-primary text-base h-16"
            [class.disabled]="currentResultIndex === room.questions.length"
            (click)="nextResult()">
            <div class="flex items-center gap-2">
                <p class="font-bold text-lg">Suivant</p>
                <fa-icon [icon]="iconNext" class="fa-lg"></fa-icon>
            </div>
        </button>
    </footer>
</div>

<app-modal *ngIf="showModal"
    [title]="'Quitter la salle'"
    [message]="'Êtes-vous sûr de vouloir quitter la salle ?'"
    (confirmEmitter)="leaveRoom()"
    (closeModalEmitter)="closeModal()"></app-modal>